<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- NCF Invoice Report Template -->
    <template id="report_invoice_ncf" inherit_id="account.report_invoice_document">
        
        <!-- Add NCF after invoice number -->
        <xpath expr="//span[hasclass('text-nowrap')]" position="after">
            <div t-if="o.requires_ncf and o.ncf_number">
                <strong>NCF: </strong><span t-field="o.ncf_number"/>
            </div>
        </xpath>
        

        
    </template>
    
    <!-- NCF Invoice Report Action -->
    <record id="action_report_invoice_ncf" model="ir.actions.report">
        <field name="name">Factura con NCF</field>
        <field name="model">account.move</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">ncf_management.report_invoice_ncf</field>
        <field name="report_file">ncf_management.report_invoice_ncf</field>
        <field name="binding_model_id" ref="account.model_account_move"/>
        <field name="binding_type">report</field>
    </record>
    
</odoo>